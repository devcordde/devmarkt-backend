type Query {
    templates: [TemplateSuccess!] @Auth(role: "user")

    template(
        name: TemplateName
    ): TemplateResponse @Auth(role: "user")

    question(
        templateName: TemplateName!
        number: NonNegativeInt!
    ): QuestionResponse @Auth(role: "user")

    roles: [String!] @Auth(role: "admin")

    user(
        id: UserIdInput!
    ): UserResponse @Auth(role: "admin")
}

type Mutation {
    createTemplate(
        name: TemplateName!
        questions: [QuestionInput!]!
    ): TemplateResponse @Auth(role: "admin")

    deleteTemplate(
        name: TemplateName!
    ): Boolean @Auth(role: "admin")

    updateTemplateName(
        oldName: TemplateName!
        newName: TemplateName!
    ): Boolean @Auth(role: "admin")

    addQuestion(
        templateName: TemplateName!
        question: QuestionAddInput!
    ): QuestionResponse @Auth(role: "admin")

    updateQuestion(
        templateName: TemplateName!
        question: QuestionInput!
    ): QuestionResponse @Auth(role: "admin")

    deleteQuestion(
        templateName: TemplateName!
        number: PositiveInt!
    ): Boolean @Auth(role: "admin")

    createUser(
        userId: UserIdInput!
        roles: [String!]!
    ): UserResponse @Auth(role: "admin")

    deleteUser(
        userId: UserIdInput!
    ): Boolean! @Auth(role: "admin")

    addUserRoles(
        userId: UserIdInput!
        roles: [String!]!
    ): UserResponse @Auth(role: "admin")

    removeUserRoles(
        userId: UserIdInput!
        roles: [String!]!
    ): UserResponse @Auth(role: "admin")
}

# common
interface Error {
    message: String!
    errorCode: String!
}
